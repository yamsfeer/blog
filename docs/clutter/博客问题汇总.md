# 博客问题汇总

## 打包内存不足

markdown 文件多了以后，除了打包时间加长以外，还会有内存不足的问题。

```
 Compiling with vite
<--- Last few GCs --->

[12287:0x7fc62092b000] 60958 ms: Scavenge 2010.3 (2082.5) -> 2005.5 (2084.0) MB, 7.4 / 0.0 ms (average mu = 0.807, current mu = 0.719) allocation failure;
...

<--- JS stacktrace --->

FATAL ERROR: Reached heap limit Allocation failed - JavaScript heap out of memory
...
```

这是因为 node 对内存的使用的默认上限为 1.7G，文件过多而内存不足时打包失败。解决办法就是手动提高上限。

```shell
node --max-old-space-size=4096 build.js
```

或者直接修改环境变量。

```shell
export NODE_OPTIONS=--max_old_space_size=4096
```

如果使用 github 工作流，修改方法如下：

```
name: Build project
env:
  NODE_OPTIONS: --max_old_space_size=4096
run: npm run build
```

## 图床



## 主题